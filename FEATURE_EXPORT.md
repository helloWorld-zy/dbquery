# 导出与自动化功能设计说明

本文档记录导出能力的扩展方案与三期落地思路，确保在不影响现有查询流程的前提下，提供多格式导出、自动化与更友好的交互入口。

## 设计目标

1. 导出格式支持扩展为 CSV 与 JSON，覆盖常用数据流转场景。
2. 提供“查询并导出”的一键流程，减少重复操作。
3. 通过结果区的明确操作入口，降低导出功能的使用门槛。

## 三期实施概览

### Phase 1：导出格式扩展
- 在后端导出服务中加入 JSON 导出逻辑。
- 前端导出控件增加格式选择。
- API 与文档同步标注支持 JSON。

### Phase 2：自动化流程
- 在工作区工具栏新增“查询并导出”按钮。
- 点击后执行查询并在成功后自动触发导出。
- 导出格式沿用当前选择的格式。

### Phase 3：用户交互增强
- 结果区导出控件提供格式下拉与导出按钮组合。
- 在已有查询结果的场景中清晰展示导出入口。

## 交互与边界说明

- 仅对已成功执行的查询结果开放导出。
- 导出使用现有的结果缓存机制，不引入持久化。
- 导出成功后提示下载路径，保持与现有实现一致。

## 可扩展方向

- 后续可加入 XLSX、Parquet 等格式。
- 可进一步引入下载链接或流式下载以优化体验。
